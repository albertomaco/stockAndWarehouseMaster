<app-toolbar></app-toolbar>
<div class="container">
  <table class="table table-dark">
    <thead>
      <tr>
        <th scope="col"> </th>
        <th scope="col">Nombre</th>
        <th scope="col">Precio</th>
        <th scope="col">Stock (total)</th>
        <th scope="col"></th>
        <th scope="col" *ngIf="isAdmin || isFabrica"></th>
        <th scope="col" *ngIf="isAdmin || isFabrica"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let producto of pagedProds">
        <td><img [src]="'data:image/jpeg;base64,' + producto.photo" width="50" alt="Foto del producto"></td>
        <td>{{producto.nombre}}</td>
        <td>{{producto.precio}}€</td>
        <td>{{producto.stock}}</td>
        <td><button class="btn btn-outline-success" (click)="darStcok(producto)"><i class="fa-solid fa-paperclip"></i> Dar Stock</button></td>
        <td><button *ngIf="isAdmin || isFabrica" class="btn btn-outline-warning" (click)="editarProducto(producto)"><i class="far fa-edit"></i></button></td>
        <td><button *ngIf="isAdmin || isFabrica" class="btn btn-outline-danger" (click)="borrar(producto)"><i class="far fa-trash-alt"></i></button></td>
      </tr>
    </tbody>
  </table>
  <mat-paginator [length]="productos.length" [pageSize]="pageSize" [pageSizeOptions]="[4, 8, 12]" showFirstLastButtons></mat-paginator>
  <div class="mt-3" role="main">
    <button type="submit" class="btn btn-outline-success btn-lg" (click)="crearProducto()">
    <i class="fas fa-plus-circle"></i>Añadir producto</button>
  </div>
</div>
